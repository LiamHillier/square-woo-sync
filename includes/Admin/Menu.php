<?php

namespace Pixeldev\SWS\Admin;

/**
 * Admin Menu class.
 *
 * Responsible for managing admin menus.
 */
class Menu {

    /**
     * Constructor.
     *
     * @since 0.2.0
     */
    public function __construct() {
        add_action( 'admin_menu', [ $this, 'init_menu' ] );
    }

    /**
     * Init Menu.
     *
     * @since 0.2.0
     *
     * @return void
     */
    public function init_menu() {
        global $submenu;

        $slug          = SWS_SLUG;
        $menu_position = 50;
        $capability    = 'manage_options';
        $logo_icon     = 'data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55IiB2aWV3Qm94PSIwLjAwIDAuMDAgNDk4LjAwIDU5MC4wMCI+CjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9IgogIE0gNDYyLjU3IDg1LjEzCiAgQyA0NjAuMjMgODQuMjcgNDU2Ljk1IDg0LjI5IDQ1NS4xMSA4My45NwogIFEgNDQ3LjI4IDgyLjY0IDQzOS40MiA4MS40NwogIEMgNDMzLjA4IDgwLjUzIDQyNC4xMCA3OC43NyA0MTYuMzggNzcuNzQKICBDIDQwOC40NyA3Ni42OCA0MDAuNTcgNzQuOTYgMzkyLjQ2IDc0LjI3CiAgUSAzOTAuMjUgNzQuMDkgMzg4LjA5IDczLjUwCiAgQyAzODEuMDggNzEuNTkgMzczLjY4IDcxLjU4IDM2Ni4xNCA3MC4xNQogIEMgMzU4Ljg3IDY4Ljc4IDM1Mi4zOCA2OC40NyAzNDQuMjMgNjYuODUKICBRIDMzOS44NCA2NS45OCAzMzQuNzAgNjUuMzMKICBDIDMyNy44NCA2NC40NiAzMjAuMDEgNjIuOTggMzE0LjI1IDYyLjEzCiAgUSAzMDAuMjEgNjAuMDYgMjg2LjE3IDU3Ljk3CiAgQyAyODAuMDggNTcuMDcgMjY5LjgyIDU1LjAxIDI2MS41MCA1NC4yMgogIEMgMjU4Ljk4IDUzLjk4IDI1NS41MyA1Mi43OSAyNTIuNDYgNTIuNDkKICBDIDI0NC4yOCA1MS42OSAyMzUuMzMgNDkuOTEgMjI4LjE3IDQ4LjkwCiAgQyAyMjAuNTMgNDcuODMgMjEyLjk5IDQ2LjI5IDIwNS4zMyA0NS40MAogIEMgMTk4LjU4IDQ0LjYyIDE5My40MyA0My4yOCAxODcuNDQgNDIuNDIKICBDIDE3Ny42NyA0MS4wMiAxNjguODEgMzkuNTQgMTU5LjQ5IDM4LjEwCiAgQyAxNTUuNjUgMzcuNTEgMTQ4Ljc0IDM2LjkxIDE0My42MCAzNS40OQogIEEgMi4xNiAyLjE2IDAuMCAwIDEgMTQyLjAxIDMzLjQyCiAgTCAxNDEuODcgMy4wMAogIEEgMS4wOCAxLjAwIDMuNCAwIDEgMTQzLjA3IDIuMDIKICBDIDE0Ny42MSAyLjUwIDE1MS45NSAyLjc4IDE1Ni41NCAzLjcyCiAgQyAxNjMuNzEgNS4xOCAxNzIuMDMgNi4wNSAxNzguMTQgNy4wNwogIFEgMTk1LjA3IDkuOTAgMjEyLjA2IDEyLjM2CiAgQyAyMjEuMjYgMTMuNjkgMjMxLjgwIDE1LjU0IDI0MS43MiAxNi45MAogIEMgMjQ2LjcyIDE3LjU5IDI1Mi40MSAxOC43OSAyNTcuODEgMTkuNDkKICBDIDI2NC45NCAyMC40MSAyNzIuMTUgMjIuMDkgMjc5LjAwIDIyLjY5CiAgQyAyODMuMTcgMjMuMDYgMjg3Ljg1IDI0LjI0IDI5MC42NyAyNC42NgogIEMgMzA1LjA1IDI2Ljc3IDMxOS40OSAyOC43OSAzMzMuODAgMzEuMzMKICBRIDM0MC40OSAzMi41MiAzNDcuMjEgMzMuNDcKICBRIDM2NC4xNyAzNS44NyAzODEuMDkgMzguNTUKICBDIDM4NS40MSAzOS4yMyAzOTMuNTYgNDAuMDggMzk5Ljc1IDQxLjUwCiAgQyA0MDMuNTggNDIuMzkgNDA5Ljc4IDQyLjUxIDQxNC42NiA0My40OQogIEMgNDE3LjA1IDQzLjk3IDQxOS4zNiA0NC41MiA0MjEuNzkgNDQuODAKICBDIDQzMi4wNiA0NS45NiA0NDUuMzYgNDguMzEgNDUyLjQwIDQ5LjM2CiAgUSA0NzIuNjcgNTIuMzkgNDkyLjkzIDU1LjYxCiAgUSA0OTUuMjAgNTUuOTcgNDk1LjIwIDU4LjI3CiAgTCA0OTUuMjUgNTIxLjIzCiAgUSA0OTUuMjUgNTIzLjUyIDQ5Mi45OSA1MjMuMTcKICBMIDQ2NS4zMSA1MTguOTQKICBBIDIuMTEgMi4xMSAwLjAgMCAxIDQ2My41NCA1MTcuMDgKICBRIDQ2My4xNiA1MTMuMzYgNDYzLjE2IDUwOS4yNQogIFEgNDYzLjQwIDMwNC44NCA0NjMuMTIgMTAwLjQyCiAgQyA0NjMuMTEgOTYuMjkgNDYzLjM2IDkwLjkxIDQ2My4yOCA4Ni4xMwogIFEgNDYzLjI3IDg1LjM4IDQ2Mi41NyA4NS4xMwogIFoiCi8+CjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9IgogIE0gMzUuMzMgNTA1LjUyCiAgQyA0MS4yMyA1MDcuNDQgNDguNTMgNTA4LjAxIDUzLjU1IDUwOC44MAogIFEgNzEuOTcgNTExLjY5IDkwLjQxIDUxNC40NQogIEMgOTguODAgNTE1LjcwIDEwOS4yNyA1MTcuNjAgMTE4Ljc0IDUxOC45MwogIEMgMTI1LjkwIDUxOS45MyAxMzQuMDIgNTIxLjQ5IDE0MS43MyA1MjIuNDIKICBRIDE0NS42OCA1MjIuOTAgMTUxLjIxIDUyMy45NgogIEMgMTU2Ljg4IDUyNS4wNSAxNjIuNzIgNTI1LjMxIDE2OC4yMyA1MjYuNTIKICBRIDE3My41NSA1MjcuNjkgMTc1Ljc1IDUyNy45NgogIEMgMTkyLjg3IDUzMC4wNiAyMDkuMDMgNTMyLjc4IDIyNS42MyA1MzUuMjkKICBDIDIzMy4zMCA1MzYuNDUgMjQyLjU2IDUzOC4xNSAyNTEuMDcgNTM5LjM4CiAgQyAyNTYuMzAgNTQwLjE0IDI2NC43MyA1NDEuNzAgMjcxLjYyIDU0Mi41MgogIEMgMjc3LjU4IDU0My4yMyAyODMuNTkgNTQ0LjY2IDI4OS42OSA1NDUuMzIKICBDIDI5Ni40MyA1NDYuMDYgMzAzLjAyIDU0Ny42NiAzMDkuODIgNTQ4LjMyCiAgQyAzMTMuNzQgNTQ4LjY5IDMxNy44OCA1NDkuNjkgMzIxLjk5IDU1MC4wNwogIFEgMzIyLjUzIDU1MC4xMiAzMjIuNjUgNTQ5LjYwCiAgUSAzMjMuMjkgNTQ2Ljc0IDMyMy4yNSA1NDUuNTAKICBRIDMyMi44MSA1MzAuNjIgMzIzLjI5IDUxNS43NQogIFEgMzIzLjMzIDUxNC4zOSAzMjMuMTggNTEzLjMxCiAgQSAxLjE1IDEuMTQgODkuNyAwIDAgMzIyLjE5IDUxMi4zMwogIEMgMzA3LjAzIDUxMC40MSAyOTEuOTUgNTA3LjkzIDI3Ni44NyA1MDUuNDEKICBDIDI3MC43MyA1MDQuMzkgMjY0LjUwIDUwMy43MiAyNTguNDAgNTAyLjY1CiAgUSAyNTAuODEgNTAxLjMxIDI0My4xNSA1MDAuMzgKICBDIDIzOS4yOCA0OTkuOTEgMjM0Ljg0IDQ5OC42NCAyMzEuNjMgNDk4LjMxCiAgUSAyMjMuNTQgNDk3LjQ4IDIxNy40OCA0OTYuMzUKICBRIDIxMi4xMSA0OTUuMzQgMjA2Ljk1IDQ5NC44MgogIEMgMjAxLjAzIDQ5NC4yMyAxOTQuNDUgNDkyLjc1IDE4OS40OCA0OTIuMDQKICBDIDE2NC41MiA0ODguNDYgMTM5LjY2IDQ4NC4yNSAxMTQuNzIgNDgwLjU3CiAgQyAxMDkuMDQgNDc5LjczIDEwMC4yMyA0NzguMDIgOTIuODcgNDc3LjI1CiAgQyA4OS40MyA0NzYuODkgODYuMzggNDc1LjY0IDgzLjA5IDQ3NS4zNQogIFEgNzguNDMgNDc0LjkzIDczLjYxIDQ3NC41MgogIEEgMS45OCAxLjk3IC04Ny42IDAgMSA3MS44MCA0NzIuNTUKICBMIDcxLjc3IDEzNS4zNAogIEEgMC43NiAwLjc2IDAuMCAwIDEgNzIuNjIgMTM0LjU4CiAgQyA3Ny41NiAxMzUuMTkgODIuMzQgMTM1LjcxIDg3LjM5IDEzNi43MwogIFEgOTMuOTIgMTM4LjA1IDEwMC41MCAxMzkuMDgKICBRIDEwMS42NCAxMzkuMjYgMTAzLjU5IDE0MC4wNgogIFEgMTA0LjA2IDE0MC4yNSAxMDQuMTYgMTQwLjc1CiAgUSAxMDQuNjEgMTQzLjEyIDEwNC42MCAxNDUuNTAKICBDIDEwNC40MyAyNDQuMTYgMTA0LjEyIDM0Mi44NCAxMDQuMjkgNDQxLjUwCiAgUSAxMDQuMjkgNDQzLjEzIDEwNC41MSA0NDQuNTYKICBRIDEwNC41OSA0NDUuMTQgMTA1LjE3IDQ0NS4yNAogIEMgMTI2LjQ1IDQ0OS4xMiAxNDcuOTcgNDUyLjM1IDE2OS4zOSA0NTUuMzcKICBDIDE4NC41NCA0NTcuNTAgMTk5LjA3IDQ2MC4zOCAyMTMuOTcgNDYyLjIzCiAgQyAyMjAuOTQgNDYzLjA5IDIyNy41MiA0NjQuNTEgMjM0LjcwIDQ2NS4zOAogIEMgMjQwLjI0IDQ2Ni4wNSAyNDYuMTIgNDY3LjM4IDI1MS4xMiA0NjguMDYKICBRIDI2MS44NCA0NjkuNTIgMjcyLjU0IDQ3MS4xOQogIFEgMjkxLjU1IDQ3NC4xNCAzMTAuNTUgNDc3LjIzCiAgQyAzMTcuOTMgNDc4LjQyIDMyOC40NiA0NzkuNzMgMzM3LjM3IDQ4MS40MAogIFEgMzQwLjY3IDQ4Mi4wMiAzNTAuNTAgNDgyLjk3CiAgUSAzNTEuODQgNDgzLjEwIDM1NC4xNCA0ODQuMTYKICBRIDM1NC41OSA0ODQuMzcgMzU0Ljc4IDQ4NC44NAogIFEgMzU1LjMwIDQ4Ni4xMSAzNTUuMzAgNDg3LjUwCiAgUSAzNTUuMjYgNTM2LjQ0IDM1NS4yNSA1ODYuODgKICBRIDM1NS4yNSA1ODcuODggMzU0LjM0IDU4OC4yOAogIFEgMzUzLjQ1IDU4OC42OCAzNTEuNzUgNTg4LjUyCiAgQyAzNDQuNjUgNTg3Ljg3IDMzNi4wNyA1ODYuMDAgMzMwLjc1IDU4NS4xOAogIFEgMzE1LjAzIDU4Mi43OCAyOTkuMzEgNTgwLjM5CiAgQyAyOTQuNTIgNTc5LjY2IDI4NS41NSA1NzcuOTUgMjc4LjU1IDU3Ny4yNQogIEMgMjc0LjkyIDU3Ni44OSAyNzEuNTUgNTc1LjczIDI2Ny45NyA1NzUuMzQKICBDIDI1OS4zOSA1NzQuNDIgMjQ4LjIxIDU3Mi40NCAyNDIuNDIgNTcxLjU5CiAgUSAyMDcuOTIgNTY2LjUwIDE3My40NyA1NjEuMDkKICBRIDE2OS40MCA1NjAuNDUgMTU4Ljc1IDU1OC41MAogIEMgMTU0LjUyIDU1Ny43MyAxNDguOTMgNTU3LjQwIDE0My42NCA1NTYuMzAKICBRIDEzNS44NCA1NTQuNjcgMTI3Ljg3IDU1NC4xOAogIEMgMTI1Ljg5IDU1NC4wNiAxMjIuOTUgNTUzLjA1IDEyMC42OSA1NTIuNzAKICBRIDEwMy42MCA1NTAuMDUgODYuNDggNTQ3LjYyCiAgQyA4Mi4yMCA1NDcuMDIgNzcuMjkgNTQ1LjgzIDcyLjY1IDU0NS4xOQogIFEgNTQuMTkgNTQyLjYzIDM1Ljc5IDUzOS42MwogIFEgMjcuMjUgNTM4LjIzIDE4LjY2IDUzNy4xOQogIEMgMTQuMjEgNTM2LjY0IDkuMDYgNTM1LjIyIDQuMTEgNTM0LjgxCiAgUSAyLjAxIDUzNC42NCAyLjAxIDUzMi41MwogIEwgMS44NiA1NC4zMAogIEEgMS41NSAxLjU0IC0wLjIgMCAxIDMuNDAgNTIuNzYKICBDIDUuMDIgNTIuNzUgNi42NyA1Mi43NSA4LjMyIDUzLjA5CiAgUSAxNi4xOCA1NC43MCAyNC4xMyA1NS43OAogIEMgMzEuNjYgNTYuNzkgMzkuMDUgNTguMjUgNDYuNTUgNTkuMjEKICBRIDUyLjUxIDU5Ljk3IDU3LjY1IDYwLjkzCiAgQyA2NC43NyA2Mi4yNSA3MC4zNiA2Mi41MyA3Ni40NSA2My42NgogIFEgODIuMzYgNjQuNzYgODQuMTEgNjQuOTcKICBDIDkzLjExIDY2LjA1IDEwMy45MyA2Ny45OCAxMTAuOTYgNjkuMDIKICBDIDEzNC4zNSA3Mi40NiAxNTUuMzEgNzYuMDIgMTc3LjUxIDc5LjIyCiAgQyAxODMuMDAgODAuMDIgMTkwLjA4IDgxLjMzIDE5Ni40MSA4Mi4xMwogIFEgMjAyLjU4IDgyLjkxIDIwOS43NSA4NC4yMAogIEMgMjE1LjY3IDg1LjI3IDIyMS44MSA4NS45MSAyMjcuNTUgODYuOTQKICBDIDI0My4xNCA4OS43NSAyNTkuMDcgOTEuNTggMjc0Ljc3IDk0LjE1CiAgQyAyODkuNzYgOTYuNjAgMzA0LjkwIDk4LjY1IDMxOS45MiAxMDEuMTgKICBDIDMyNS42NyAxMDIuMTUgMzMxLjQzIDEwMi42NCAzMzcuMTUgMTAzLjczCiAgQyAzNDQuNDkgMTA1LjEyIDM1Mi42MCAxMDUuOTMgMzU5LjI2IDEwNy4wNwogIFEgMzc1Ljg1IDEwOS45MSAzOTIuNTEgMTEyLjIxCiAgQyA0MDAuNDQgMTEzLjMxIDQxMS4wNiAxMTUuMjkgNDIwLjQ0IDExNi4yNgogIEMgNDIxLjg0IDExNi40MSA0MjMuNDQgMTE3LjA3IDQyNC43NyAxMTcuNTAKICBBIDAuODAgMC44MCAwLjAgMCAxIDQyNS4zMiAxMTguMjYKICBMIDQyNS4yNyA0NTUuNjgKICBBIDAuODUgMC44NSAwLjAgMCAxIDQyNC4zMCA0NTYuNTIKICBRIDQxNS44OCA0NTUuMjQgNDA3LjU4IDQ1NC4zOAogIEMgNDAzLjE2IDQ1My45MyAzOTguODIgNDUyLjYxIDM5NC40MyA0NTEuODYKICBBIDEuNDUgMS40NCA1LjAgMCAxIDM5My4yMyA0NTAuNDQKICBMIDM5My4xNSAxNDcuNDMKICBBIDEuOTEgMS45MCAxLjYgMCAwIDM5MS4zNSAxNDUuNTMKICBDIDM4Mi40NSAxNDUuMDUgMzcxLjU2IDE0Mi43OCAzNjUuMjEgMTQxLjg4CiAgUSAzNTcuNzEgMTQwLjgyIDM1MC4yNCAxMzkuNTcKICBDIDM0NS41NiAxMzguNzkgMzM2LjIzIDEzNy44OSAzMjkuMzYgMTM2LjQxCiAgQyAzMjIuNjEgMTM0Ljk2IDMxNS44NyAxMzQuODEgMzA5LjEwIDEzMy4zNAogIFEgMzA0LjgzIDEzMi40MSAzMDEuMzMgMTMyLjE0CiAgQyAyOTEuNzkgMTMxLjM4IDI4Mi40NCAxMjkuMTEgMjcyLjg3IDEyOC4xNQogIEMgMjY5Ljk0IDEyNy44NSAyNjYuMjEgMTI2LjgyIDI2My4wNCAxMjYuNDAKICBRIDI1Mi45OSAxMjUuMDQgMjQyLjk5IDEyMy4zNgogIEMgMjM1LjQ3IDEyMi4xMCAyMjcuMzEgMTIxLjE3IDIxOS40OCAxMTkuODUKICBDIDIxMy42NyAxMTguODYgMjA1LjUzIDExNy45NCAxOTguNjQgMTE2LjYwCiAgQyAxOTIuNjUgMTE1LjQzIDE4Ni41NSAxMTQuOTkgMTgwLjUzIDExMy44MwogIFEgMTczLjgwIDExMi41MyAxNjcuODcgMTExLjc3CiAgUSAxNjMuMzAgMTExLjIwIDE1OC43NyAxMTAuMzUKICBDIDE0My4wMSAxMDcuMzkgMTI2LjkyIDEwNS44NiAxMTEuMTIgMTAzLjA0CiAgQyAxMDYuNzUgMTAyLjI2IDEwMS41NyAxMDEuODAgOTcuOTcgMTAxLjI5CiAgQyA4Ny4yMyA5OS43NSA3Ni4wOSA5OC42OCA2NS41MCA5Ni40MQogIEMgNTkuNjMgOTUuMTUgNTIuMzMgOTQuODQgNDcuNzQgOTMuNzkKICBRIDQxLjQ0IDkyLjM0IDM1LjIxIDkxLjg1CiAgQSAwLjg5IDAuODkgMC4wIDAgMCAzNC4yNSA5Mi43NgogIFEgMzQuNDYgMTAwLjg4IDM0LjQ2IDEwOS4wMAogIFEgMzQuNTMgMjkxLjYyIDM0LjUyIDQ3NC4yNQogIFEgMzQuNTIgNDg4LjY2IDM0LjA4IDUwMy43NQogIEEgMS44MSAxLjgwIDkuOSAwIDAgMzUuMzMgNTA1LjUyCiAgWiIKLz4KPHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iCiAgTSAzNTUuMzEgMTc5LjU4CiAgTCAzNTUuMTEgNDQ0LjIyCiAgQSAxLjYwIDEuNjAgMC4wIDAgMSAzNTMuMjcgNDQ1LjgwCiAgTCAxNDMuMTEgNDEzLjk3CiAgQSAxLjYwIDEuNjAgMC4wIDAgMSAxNDEuNzUgNDEyLjM4CiAgTCAxNDEuODUgMTQ3LjYyCiAgQSAxLjYwIDEuNjAgMC4wIDAgMSAxNDMuNjkgMTQ2LjA0CiAgTCAzNTMuOTUgMTc3Ljk5CiAgQSAxLjYwIDEuNjAgMC4wIDAgMSAzNTUuMzEgMTc5LjU4CiAgWgogIE0gMTc0LjQ2IDM4My45NwogIEEgMC45NiAwLjk2IDAuMCAwIDAgMTc1LjI4IDM4NC45MQogIEwgMzIxLjg3IDQwNy4yNgogIEEgMC45NiAwLjk2IDAuMCAwIDAgMzIyLjk3IDQwNi4zMQogIEwgMzIzLjAwIDIwOC4wNAogIEEgMC45NiAwLjk2IDAuMCAwIDAgMzIyLjE4IDIwNy4wOQogIEwgMTc1LjQ5IDE4NC45NQogIEEgMC45NiAwLjk2IDAuMCAwIDAgMTc0LjM5IDE4NS45MAogIEwgMTc0LjQ2IDM4My45NwogIFoiCi8+Cjwvc3ZnPgo=';

        add_menu_page( esc_attr__( 'Square Woo Sync', 'square-woo-sync' ), esc_attr__( 'SquareWoo', 'square-woo-sync' ), $capability, $slug, [ $this, 'plugin_page' ], $logo_icon, $menu_position );

        if ( current_user_can( $capability ) ) {
            $submenu[ $slug ][] = [ esc_attr__( 'Dashboard', 'square-woo-sync' ), $capability, 'admin.php?page=' . $slug . '#/' ];
            $submenu[ $slug ][] = [ esc_attr__( 'Inventory', 'square-woo-sync' ), $capability, 'admin.php?page=' . $slug . '#/inventory' ]; 
            $submenu[ $slug ][] = [ esc_attr__( 'Settings', 'square-woo-sync' ), $capability, 'admin.php?page=' . $slug . '#/settings/general' ]; 
        }

    }

    /**
     * Render the plugin page.
     *
     * @since 0.2.0
     *
     * @return void
     */
    public function plugin_page() {
        require_once SWS_TEMPLATE_PATH . '/app.php';
    }
}